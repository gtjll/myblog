(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{294:function(t,s,a){"use strict";a.r(s);var e=a(5),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"package-json-属性分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package-json-属性分析","aria-hidden":"true"}},[t._v("#")]),t._v(" package.json 属性分析")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.npmjs.com/files/package.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网地址"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"name-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#name-string","aria-hidden":"true"}},[t._v("#")]),t._v(" name:string")]),t._v(" "),a("p",[t._v("包名，必须")]),t._v(" "),a("h3",{attrs:{id:"version-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version-string","aria-hidden":"true"}},[t._v("#")]),t._v(" version:string")]),t._v(" "),a("p",[t._v("版本号，必须")]),t._v(" "),a("p",[t._v("npm规定了, 一个package是由名字加版本号作为唯一标识的.")]),t._v(" "),a("h3",{attrs:{id:"description-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#description-string","aria-hidden":"true"}},[t._v("#")]),t._v(" description:string")]),t._v(" "),a("p",[t._v("描述，可通过npm search 搜索到")]),t._v(" "),a("h3",{attrs:{id:"keywords-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keywords-string","aria-hidden":"true"}},[t._v("#")]),t._v(" keywords:string[]")]),t._v(" "),a("p",[t._v("关键字,可通过npm search 搜索到")]),t._v(" "),a("h3",{attrs:{id:"private-boolean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#private-boolean","aria-hidden":"true"}},[t._v("#")]),t._v(" private:boolean")]),t._v(" "),a("p",[t._v("是否私有，为true就不能发布出去")]),t._v(" "),a("h3",{attrs:{id:"author-string-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#author-string-object","aria-hidden":"true"}},[t._v("#")]),t._v(" author:string|object")]),t._v(" "),a("p",[t._v("作者")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"author"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gtjll"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/gtjll"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h3",{attrs:{id:"license-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#license-string","aria-hidden":"true"}},[t._v("#")]),t._v(" license:string")]),t._v(" "),a("p",[t._v("为你的模块制定一个协议，让用户知道他们有何权限来使用你的模块，以及使用该模块有哪些限制")]),t._v(" "),a("h3",{attrs:{id:"repository-string-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#repository-string-object","aria-hidden":"true"}},[t._v("#")]),t._v(" repository:string|object")]),t._v(" "),a("p",[t._v("项目源码的地址")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"repository"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/npm/npm.git"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h3",{attrs:{id:"main-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#main-string","aria-hidden":"true"}},[t._v("#")]),t._v(" main :string")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("入口文件地址\n当其他项目引用这个包的时候，就从dist/index.js里面找，dist下面的文件一定要build以后才有的")]),t._v(" "),a("h3",{attrs:{id:"dependencies：object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dependencies：object","aria-hidden":"true"}},[t._v("#")]),t._v(" dependencies：object")]),t._v(" "),a("p",[t._v("dependencies字段指定了"),a("strong",[t._v("项目运行")]),t._v("所依赖的模块，格式为对象")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"deependencies": {\n    "browserify": "13.0.0",\n    "karma-browserify": "~5.0.1"\n}\n')])])]),a("ul",[a("li",[t._v("直接版本号就是制定版本，")]),t._v(" "),a("li",[t._v("波浪线+指定版本，就是说安装时不改变大版本号和次要版本号，比如~1.2.2，表示安装1.2.x的最新版本（不低于1.2.2），但是不安装1.3.x")]),t._v(" "),a("li",[t._v("插入号（^）+指定版本：就是说安装时不改变大版本号，比如^1.2.2，表示安装1.x.x的最新版本（不低于1.2.2），但是不安装2.x.x")])]),t._v(" "),a("h3",{attrs:{id:"devdependencies-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devdependencies-object","aria-hidden":"true"}},[t._v("#")]),t._v(" devDependencies:object")]),t._v(" "),a("p",[t._v("devDependencies指定"),a("strong",[t._v("项目开发")]),t._v("所需要的模块，格式为对象")]),t._v(" "),a("h3",{attrs:{id:"peerdependencies-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#peerdependencies-object","aria-hidden":"true"}},[t._v("#")]),t._v(" peerDependencies: object")]),t._v(" "),a("p",[t._v("它是用于你这个包并不依赖模块A, 但是要使用你这个包, 必须当前项目装了A.")]),t._v(" "),a("blockquote",[a("p",[t._v("比如你的 my-project , 已经引入了people模块, 而还有一个people-fly, 必须你的my-project有用到people才可以用, 但是people-fly的源码里并没有直接使用people.")]),t._v(" "),a("p",[t._v("这时候, people-fly的package.json 里就会声明peerDependencies包含people")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000013326067",target:"_blank",rel:"noopener noreferrer"}},[t._v("摘录自：package.json里的一些属性讲解"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"scripts-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scripts-object","aria-hidden":"true"}},[t._v("#")]),t._v(" scripts:object")]),t._v(" "),a("p",[t._v("执行脚本")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"start"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-scripts start"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-scripts build"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-scripts test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eject"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-scripts eject"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("执行 yarn start 其实是执行react-scripts start")]),t._v(" "),a("h3",{attrs:{id:"engines-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#engines-object","aria-hidden":"true"}},[t._v("#")]),t._v(" engines:object")]),t._v(" "),a("p",[t._v("指明了该项目所需要的node.js版本。也可以指定适用的npm版本\nnode版本大于8,npm版本大于5")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('  "engines": {\n    "node": ">=8",\n    "npm": ">=5"\n  },\n')])])]),a("h3",{attrs:{id:"files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#files","aria-hidden":"true"}},[t._v("#")]),t._v(" files:[]")]),t._v(" "),a("p",[t._v("files是一个数组, 它描述了你 npm publish的时候推送到npm服务器的文件列表,支持目录和通配 比如")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"files": [\n    "LICENSE",\n    "History.md",\n    "Readme.md",\n    "index.js",\n    "lib/"\n  ],\n')])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('  "files": [\n    "dist"\n  ]\n')])])]),a("p",[t._v("写了一个文件夹名，则文件夹下所有的文件也会被包含进来")]),t._v(" "),a("h2",{attrs:{id:"非官方字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非官方字段","aria-hidden":"true"}},[t._v("#")]),t._v(" 非官方字段")]),t._v(" "),a("h3",{attrs:{id:"module-string-属于发行打包相关字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-string-属于发行打包相关字段","aria-hidden":"true"}},[t._v("#")]),t._v(" module:string  属于发行打包相关字段")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist/index.es.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("指向的应该是一个基于 ES6 模块规范的使用ES5语法书写的模块。")]),t._v(" "),a("p",[t._v("听起来是不是比较拗口？基于 ES6 模块规范是为了用户在使用我们的包时可以享受 Tree Shaking 带来的好处；使用 ES5 语法书写是为了用户在配置 babel 插件时可以放心的屏蔽 node_modules 目录。\n当打包工具遇到我们的模块时：")]),t._v(" "),a("p",[t._v("如果它已经支持 pkg.module 字段则会优先使用 ES6 模块规范的版本，这样可以启用 Tree Shaking 机制。\n如果它还不识别 pkg.module 字段则会使用我们已经编译成 CommonJS 规范的版本，也不会阻碍打包流程。")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://loveky.github.io/2018/02/26/tree-shaking-and-pkg.module/",target:"_blank",rel:"noopener noreferrer"}},[t._v("聊聊 package.json 文件中的 module 字段"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"resolutions：object-属于yarn相关字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resolutions：object-属于yarn相关字段","aria-hidden":"true"}},[t._v("#")]),t._v(" resolutions：object 属于yarn相关字段")]),t._v(" "),a("p",[t._v("指定版本")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('  "resolutions": {\n    "@types/react": "16.8.8",\n    "@types/react-dom": "16.8.3"\n  },\n')])])]),a("h3",{attrs:{id:"workspaces-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#workspaces-string","aria-hidden":"true"}},[t._v("#")]),t._v(" workspaces: string[]")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(' "workspaces": [\n    "packages/*",\n    "projects/*"\n  ],\n')])])]),a("h3",{attrs:{id:"browserslist：string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#browserslist：string","aria-hidden":"true"}},[t._v("#")]),t._v(" browserslist：string[]")]),t._v(" "),a("p",[t._v("众所周知为兼容所有浏览器，有的CSS属性需要对不同的浏览器加上前缀。\nAutoprefixer使用Browserlist来确定哪些浏览器版本将得到支持从而添加前缀。格式为数组。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('  "browserslist": [\n    ">0.2%", // 全球有超过0.2%的人使用的浏览器\n     "last 2 versions", //根据CanIUse.com追踪的最后两个版本的所有浏览器\n    "not dead",\n    "not ie <= 11",// 不支持ie11及以下\n    "not op_mini all"\n  ]\n')])])]),a("p",[t._v("更多："),a("a",{attrs:{href:"https://segmentfault.com/a/1190000016365409#articleHeader8",target:"_blank",rel:"noopener noreferrer"}},[t._v("package.json 非官方字段集合"),a("OutboundLink")],1)])])},[],!1,null,null,null);s.default=r.exports}}]);